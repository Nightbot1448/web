<!DOCTYPE html>
<html lang="en">
<script type="text/javascript" src="scripts/Figures.js"></script>
<script type="text/javascript" src="scripts/tetris.js"></script>
<link href="style/bootstrap.css" rel="stylesheet">
<link href="style/main_style.css" rel="stylesheet">
<head>
    <meta charset="UTF-8">
    <title>Tetris</title>
</head>
<body>
    <div class="bg"></div>
    <div class="container">
        <div class="row" style="margin-top: 1%">
            <div class="col-xs-offset-1 col-xs-5 col-md-offset-3 col-md-4">
                <canvas class="bb" id = "mainField"></canvas>
            </div>
            <div class="col-xs-offset-1 col-xs-1 col-md-offset-0 col-md-5">
                <div class="row">
                    <div class="col-xs-12">
                        <canvas class="bb" id ="nextFigureField"></canvas>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-12">
                        <span class = "score_label" id="username">
                            <p>
                                User:
                            </p>
                        </span>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-12">
                        <canvas id = 'level'></canvas>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-12">
                        <span class = "score_label">Score:<br></span>
                        <canvas class="bb" id = "score"></canvas>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-2">
                        <button type ='button' class="btn btn-primary btnStyle" id='startButton' onclick="restart()">
                            <span style="font-weight: bold">
                                Start
                            </span>
                        </button>
                    </div>
                    <div class="col-xs-2">
                        <button type ='button' class="btn btn-primary btnStyle" id='mainButton' onclick="toMain()">
                            <span style="font-weight: bold">
                                Main
                            </span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
<script>
    document.getElementById('username').textContent += localStorage['current_user'];
    const main_canvas = document.getElementById('mainField');
    const next_figure_canvas = document.getElementById('nextFigureField');
    const score_canvas = document.getElementById('score');
    const level_canvas = document.getElementById('level');
    let main_context;
    let next_figure_context;
    let score_context;
    let level_context;
    if (main_canvas.getContext && next_figure_canvas.getContext && score_canvas.getContext && level_canvas.getContext) {
        main_context = main_canvas.getContext('2d');
        main_canvas.width = step * bl_w;
        main_canvas.height = step * bl_h;
        next_figure_context = next_figure_canvas.getContext('2d');
        next_figure_canvas.width = step * 5;
        next_figure_canvas.height = step * 4;
        score_context = score_canvas.getContext('2d');
        score_canvas.width = step * 5;
        score_canvas.height = step * 2;
        level_context = level_canvas.getContext('2d');
        level_canvas.width = 200;
        level_canvas.height = 60;
    }
    else {
        document.getElementById('startButton').disabled = true;
        alert('canvas error');
    }

</script>
</body>
</html>
